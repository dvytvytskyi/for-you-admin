# üöÄ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –∑–Ω—è—Ç—Ç—è limit –ø—ñ—Å–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π

## ‚ö†Ô∏è –£–í–ê–ì–ê

**–ù–ï –ó–ê–°–¢–û–°–û–í–£–ô–¢–ï —Ü—ñ –∑–º—ñ–Ω–∏ –¥–æ —Ç–æ–≥–æ, —è–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ Infinite Scroll / Lazy Loading
- ‚úÖ Debouncing –¥–ª—è –ø–æ—à—É–∫—É
- ‚úÖ Lazy Loading –∑–æ–±—Ä–∞–∂–µ–Ω—å
- ‚úÖ React.memo –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

---

## üìù –ó–º—ñ–Ω–∏ –¥–ª—è –∑–Ω—è—Ç—Ç—è limit

### –§–∞–π–ª: `admin-panel-backend/src/routes/properties.routes.ts`

#### –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ–¥ (–∑ limit):
```typescript
// –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è - –ó–ê–í–ñ–î–ò –∑–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –¥–ª—è –±–µ–∑–ø–µ–∫–∏ (—â–æ–± –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –≤—Å—ñ 51,955+ –∑–∞–ø–∏—Å—ñ–≤)
// –Ø–∫—â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
// TODO: –ü—ñ—Å–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó infinite scroll –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ - –∑–Ω—è—Ç–∏ default limit
const pageNum = page ? parseInt(page.toString(), 10) : 1;
const limitNum = limit ? parseInt(limit.toString(), 10) : 100; // Default limit –¥–ª—è –±–µ–∑–ø–µ–∫–∏
```

#### –ù–æ–≤–∏–π –∫–æ–¥ (–±–µ–∑ limit):
```typescript
// –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞—î page —Ç–∞ limit —á–µ—Ä–µ–∑ infinite scroll
// –Ø–∫—â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –±–µ–∑–ø–µ–∫–∏
const pageNum = page ? parseInt(page.toString(), 10) : 1;
const limitNum = limit ? parseInt(limit.toString(), 10) : 20; // –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π limit —è–∫—â–æ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ
```

**–ê–±–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–Ω—è—Ç–∏ default limit (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):**
```typescript
// –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞—î page —Ç–∞ limit
// –Ø–∫—â–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ñ, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ–º–∏–ª–∫—É –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
const pageNum = page ? parseInt(page.toString(), 10) : 1;
const limitNum = limit ? parseInt(limit.toString(), 10) : null;

if (!limitNum || limitNum <= 0) {
  return res.status(400).json({
    success: false,
    message: 'Parameter "limit" is required and must be greater than 0',
  });
}

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π limit –¥–ª—è –±–µ–∑–ø–µ–∫–∏ (–Ω–∞ –≤–∏–ø–∞–¥–æ–∫ —è–∫—â–æ —Ö—Ç–æ—Å—å –ø–µ—Ä–µ–¥–∞—Å—Ç—å –¥—É–∂–µ –≤–µ–ª–∏–∫–µ –∑–Ω–∞—á–µ–Ω–Ω—è)
const MAX_LIMIT = 100;
const finalLimit = Math.min(limitNum, MAX_LIMIT);
```

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–Ω—è—Ç—Ç—è–º limit

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞—î `limit`:

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ Network tab –±—Ä–∞—É–∑–µ—Ä–∞
# –í—Å—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ /api/properties –ø–æ–≤–∏–Ω–Ω—ñ –º—ñ—Å—Ç–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä limit
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ infinite scroll –ø—Ä–∞—Ü—é—î:

```bash
# –í—ñ–¥–∫—Ä–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É properties
# –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–∏ –¥–æ –∫—ñ–Ω—Ü—è
# –ú–∞—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏—Å—è –Ω–∞—Å—Ç—É–ø–Ω–∞ –ø–æ—Ä—Ü—ñ—è
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–æ—à—É–∫ –∑ debouncing –ø—Ä–∞—Ü—é—î:

```bash
# –í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç —É –ø–æ—à—É–∫
# –ú–∞—î –±—É—Ç–∏ –∑–∞—Ç—Ä–∏–º–∫–∞ 300-500ms –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –∑–∞–ø–∏—Ç—É
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–Ω—è—Ç—Ç—è–º limit

- [ ] Infinite Scroll —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Ç–∞ –ø—Ä–∞—Ü—é—î
- [ ] Debouncing –¥–ª—è –ø–æ—à—É–∫—É —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ (300-500ms)
- [ ] Lazy Loading –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∞—Ü—é—î (`loading="lazy"`)
- [ ] React.memo –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∫–∞—Ä—Ç–æ–∫
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä `limit` (20-50)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –Ω–∞ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö (51,955+)
- [ ] –ù–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è limit –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

- **–ü–æ—á–∞—Ç–∫–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:** 20-30 –ø—Ä–æ–µ–∫—Ç—ñ–≤
- **–ü—Ä–∏ —Å–∫—Ä–æ–ª—ñ:** 20-50 –ø—Ä–æ–µ–∫—Ç—ñ–≤ –∑–∞ —Ä–∞–∑
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π limit:** 100 (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

---

## üöÄ –ü—ñ—Å–ª—è –∑–Ω—è—Ç—Ç—è limit

1. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ production:**
   ```bash
   # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ properties –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —à–≤–∏–¥–∫–æ
   # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ infinite scroll –ø—Ä–∞—Ü—é—î
   # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–æ—à—É–∫ –ø—Ä–∞—Ü—é—î –±–µ–∑ –ª–∞–≥—ñ–≤
   ```

2. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –±–µ–∫–µ–Ω–¥—É –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∞—Å –≤—ñ–¥–≥—É–∫—É API
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ

3. **Rollback –ø–ª–∞–Ω:**
   - –Ø–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫, –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ default limit = 100

---

## üìù –ü—Ä–∏–∫–ª–∞–¥ —Ñ—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥—É

```typescript
// –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞—î page —Ç–∞ limit —á–µ—Ä–µ–∑ infinite scroll
const pageNum = page ? parseInt(page.toString(), 10) : 1;
const limitNum = limit ? parseInt(limit.toString(), 10) : null;

// –í–∞–ª—ñ–¥–∞—Ü—ñ—è limit
if (!limitNum || limitNum <= 0) {
  return res.status(400).json({
    success: false,
    message: 'Parameter "limit" is required and must be greater than 0',
  });
}

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π limit –¥–ª—è –±–µ–∑–ø–µ–∫–∏ (–Ω–∞ –≤–∏–ø–∞–¥–æ–∫ —è–∫—â–æ —Ö—Ç–æ—Å—å –ø–µ—Ä–µ–¥–∞—Å—Ç—å –¥—É–∂–µ –≤–µ–ª–∏–∫–µ –∑–Ω–∞—á–µ–Ω–Ω—è)
const MAX_LIMIT = 100;
const finalLimit = Math.min(limitNum, MAX_LIMIT);
const skip = (pageNum - 1) * finalLimit;

// –û—Ç—Ä–∏–º—É—î–º–æ –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤ –ø–µ—Ä–µ–¥ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
const totalCount = await queryBuilder.getCount();

// –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é
queryBuilder.skip(skip).take(finalLimit);
```

---

**–ì–æ—Ç–æ–≤–æ –¥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ!** ‚úÖ

